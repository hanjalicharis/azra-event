<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Izvlacenje dobitnika tombole!</title>
    <link rel="stylesheet" href="index.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
  </head>
  <body>
    <canvas id="custom_canvas"></canvas>
    <div class="container winner">
      <img src="./azra-logo-pravi.png" style="width: 400px; height: 200px" />
      <h1 id="winner-number">SRETNI DOBITNIK</h1>
      <button class="btn" id="button" onclick="randomGeneration()">
        Odaberi sretnog dobitnika!
      </button>
      <img src="./logo.png" style="height: 250px" />
    </div>
  </body>

  <script>
    const canvas = document.getElementById('custom_canvas');
    const button = document.getElementById('button');
    fitToContainer(canvas);

    const jsConfetti = new JSConfetti({ canvas });

    function fitToContainer(canvass) {
      canvass.style.width = '100%';
      canvass.style.height = '100%';
      canvass.width = canvass.offsetWidth;
      canvass.height = canvass.offsetHeight;
    }

    button.addEventListener('click', () => {
      jsConfetti.addConfetti({
        confettiRadius: 7,
        confettiNumber: 500,
      });
      document.getElementById('winner-number').innerHTML = randomNoGenerator({
        min: 1,
        max: 200,
        integer: true,
      });
    });

    function randomNoGenerator({ min = 1, max = 200, integer }) {
      if (!min && min !== 0) {
        if (typeof max !== 'number') {
          max = 1;
        }
        min = max - 1;
      }

      if (!max && max !== 0) {
        if (typeof min !== 'number') {
          min = 0;
        }
        max = min + 1;
      }

      if (min > max) {
        return 'Error';
      }

      if (integer) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      } else {
        return Math.random() * (max - min) + min;
      }
    }
  </script>
</html>
